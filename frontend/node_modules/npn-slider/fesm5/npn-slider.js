import { __extends } from 'tslib';
import { Component, Input, Output, EventEmitter, ElementRef, HostListener, NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Utilities = /** @class */ (function () {
    function Utilities() {
    }
    /**
     * @param {?} arr
     * @return {?}
     */
    Utilities.prototype.isNumberArray = /**
     * @param {?} arr
     * @return {?}
     */
    function (arr) {
        return (arr && arr.length && arr.filter(function (value) { return !isNaN(value); }).length === arr.length) ? true : false;
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    Utilities.prototype.isNullOrEmpty = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        return obj === undefined || obj === null || obj === '';
    };
    /**
     * @param {?} obj
     * @param {...?} allowedValues
     * @return {?}
     */
    Utilities.prototype.toBoolean = /**
     * @param {?} obj
     * @param {...?} allowedValues
     * @return {?}
     */
    function (obj) {
        var allowedValues = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            allowedValues[_i - 1] = arguments[_i];
        }
        return (obj === '' || obj === 'true' || allowedValues.indexOf(obj) !== -1) ? true : false;
    };
    /**
     * @param {?} n
     * @param {?} step
     * @return {?}
     */
    Utilities.prototype.findNextValidStepValue = /**
     * @param {?} n
     * @param {?} step
     * @return {?}
     */
    function (n, step) {
        var /** @type {?} */ divisorsSet1 = [];
        var /** @type {?} */ divisorsSet2 = [];
        var /** @type {?} */ sqrtNum = Math.sqrt(n);
        var /** @type {?} */ newStep = -1;
        for (var /** @type {?} */ i = 0; i < sqrtNum; i++) {
            if (n % i === 0) {
                if ((n / i) === i) {
                    divisorsSet1.push(i);
                }
                else {
                    divisorsSet1.push(i);
                    divisorsSet2.push(n / i);
                }
            }
        }
        // Picking newStep by checking large set of divisors first
        for (var /** @type {?} */ i = 0; i < divisorsSet2.length; i++) {
            if (step > divisorsSet2[i]) {
                newStep = divisorsSet2[i];
                break;
            }
        }
        if (newStep === -1) {
            // checking set of small divisors if newStep didn't find out till.
            for (var /** @type {?} */ i = divisorsSet1.length - 1; i >= 0; i--) {
                if (step > divisorsSet1[i]) {
                    newStep = divisorsSet1[i];
                    break;
                }
            }
        }
        return (newStep === -1) ? 1 : newStep;
    };
    return Utilities;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/** @enum {number} */
var SliderHandlerEnum = {
    left: 0,
    right: 1,
};
SliderHandlerEnum[SliderHandlerEnum.left] = "left";
SliderHandlerEnum[SliderHandlerEnum.right] = "right";

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NpnSliderComponent = /** @class */ (function (_super) {
    __extends(NpnSliderComponent, _super);
    function NpnSliderComponent(el) {
        var _this = _super.call(this) || this;
        _this.el = el;
        _this.sliderModel = [0, 0, 0];
        _this.step = 1;
        _this.sliderWidth = 0;
        _this.totalDiff = 0;
        _this.startClientX = 0;
        _this.startPleft = 0;
        _this.startPRight = 0;
        _this.sliderInitiated = false;
        _this.initValues = [];
        _this.currentValues = [0, 0];
        _this.handlerX = [0, 0];
        _this.isHandlerActive = false;
        _this.isTouchEventStart = false;
        _this.isMouseEventStart = false;
        _this.currentHandlerIndex = 0;
        _this.stepIndicatorPositions = [];
        _this.isDisabled = false;
        _this.hideTooltip = false;
        _this.hideValues = false;
        _this.handlerIndex = SliderHandlerEnum;
        _this.showStepIndicator = false;
        _this.multiRange = true;
        _this.onChange = new EventEmitter();
        return _this;
    }
    Object.defineProperty(NpnSliderComponent.prototype, "setMinValues", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (!isNaN(value)) {
                this.minValue = Number(value);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NpnSliderComponent.prototype, "setMaxValues", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (!isNaN(value)) {
                this.maxValue = Number(value);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NpnSliderComponent.prototype, "setMinSelectedValues", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (!isNaN(value) && this.minSelected !== Number(value)) {
                this.minSelected = Number(value);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NpnSliderComponent.prototype, "setMaxSelectedValues", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (!isNaN(value) && this.maxSelected !== Number(value)) {
                this.maxSelected = Number(value);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NpnSliderComponent.prototype, "stepValue", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (!isNaN(value)) {
                this.step = Number(value);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NpnSliderComponent.prototype, "setHideTooltip", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.hideTooltip = this.toBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NpnSliderComponent.prototype, "setHideValues", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.hideValues = this.toBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NpnSliderComponent.prototype, "setDisabled", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.isDisabled = this.toBoolean(value, 'disabled');
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    NpnSliderComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.initializeSlider();
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    NpnSliderComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if (this.sliderInitiated) {
            if (!this.isNullOrEmpty(changes["setMinSelectedValues"])
                && changes["setMinSelectedValues"].previousValue === changes["setMinSelectedValues"].currentValue) {
                return;
            }
            if (!this.isNullOrEmpty(changes["setMaxSelectedValues"])
                && changes["setMaxSelectedValues"].previousValue === changes["setMaxSelectedValues"].currentValue) {
                return;
            }
            this.resetModel();
        }
    };
    /**
     * @return {?}
     */
    NpnSliderComponent.prototype.initializeSlider = /**
     * @return {?}
     */
    function () {
        try {
            // Taking width of slider bar element.
            this.sliderWidth = this.el.nativeElement.children[0].children[0].offsetWidth;
            this.resetModel();
            this.sliderInitiated = true;
        }
        catch (/** @type {?} */ e) {
            console.error(e);
        }
    };
    /**
     * @return {?}
     */
    NpnSliderComponent.prototype.resetModel = /**
     * @return {?}
     */
    function () {
        this.validateSliderValues();
        // Setting the model values
        this.sliderModel = [
            this.currentValues[0] - this.initValues[0],
            this.currentValues[1] - this.currentValues[0],
            this.initValues[1] - this.currentValues[1]
        ];
        this.totalDiff = this.sliderModel.reduce(function (prevValue, curValue) { return prevValue + curValue; }, 0);
        // Validation for slider step
        if (this.totalDiff % this.step !== 0) {
            var /** @type {?} */ newStep = this.findNextValidStepValue(this.totalDiff, this.step);
            console.warn('Invalid step value "' + this.step + '" : and took "' + newStep + '" as default step');
            this.step = newStep;
        }
        this.initializeStepIndicator();
        this.setHandlerPosition();
    };
    /**
     * @return {?}
     */
    NpnSliderComponent.prototype.validateSliderValues = /**
     * @return {?}
     */
    function () {
        if (this.isNullOrEmpty(this.minValue) || this.isNullOrEmpty(this.maxValue)) {
            this.updateInitValues([0, 0]);
            this.updateCurrentValue([0, 0], true);
        }
        else if (this.minValue > this.maxValue) {
            this.updateInitValues([0, 0]);
            this.updateCurrentValue([0, 0], true);
        }
        else {
            this.initValues = [this.minValue, this.maxValue];
            /*
                  * Validation for Selected range values
                  */
            this.minSelected = this.isNullOrEmpty(this.minSelected) ? 0 : this.minSelected;
            this.maxSelected = this.isNullOrEmpty(this.maxSelected) ? 0 : this.maxSelected;
            if (this.minSelected < this.minValue || this.minSelected > this.maxValue) {
                this.minSelected = this.minValue;
            }
            if (this.maxSelected < this.minValue || this.maxSelected > this.maxValue) {
                this.maxSelected = this.maxValue;
            }
            if (this.minSelected > this.maxSelected) {
                this.minSelected = this.minValue;
                this.maxSelected = this.maxValue;
            }
            this.updateCurrentValue([this.minSelected, this.maxSelected], true);
        }
    };
    /**
     * @return {?}
     */
    NpnSliderComponent.prototype.initializeStepIndicator = /**
     * @return {?}
     */
    function () {
        if (this.showStepIndicator) {
            this.stepIndicatorPositions.length = 0;
            var /** @type {?} */ numOfStepIndicators = this.totalDiff / this.step;
            if (this.sliderWidth / numOfStepIndicators >= 10) {
                var /** @type {?} */ increment = this.sliderWidth / numOfStepIndicators;
                var /** @type {?} */ leftPosition = increment;
                while (this.stepIndicatorPositions.length < numOfStepIndicators - 1) {
                    this.stepIndicatorPositions.push(+leftPosition.toFixed(2));
                    leftPosition += increment;
                }
            }
            else {
                console.warn("As 'step' value is too small compared to min & max value difference and slider width,\n          Step Indicator can't be displayed!. Provide slight large value for 'step'");
            }
        }
        else {
            this.stepIndicatorPositions.length = 0;
        }
    };
    /**
     * @param {?} arrayValue
     * @param {?=} privateChange
     * @return {?}
     */
    NpnSliderComponent.prototype.updateCurrentValue = /**
     * @param {?} arrayValue
     * @param {?=} privateChange
     * @return {?}
     */
    function (arrayValue, privateChange) {
        if (privateChange === void 0) { privateChange = false; }
        this.minSelected = this.currentValues[0] = arrayValue[0];
        this.maxSelected = this.currentValues[1] = arrayValue[1];
        if (!privateChange) {
            this.onChange.emit((this.multiRange) ? this.currentValues : [this.currentValues[0]]);
        }
    };
    /**
     * @param {?} arrayValue
     * @return {?}
     */
    NpnSliderComponent.prototype.updateInitValues = /**
     * @param {?} arrayValue
     * @return {?}
     */
    function (arrayValue) {
        this.minValue = this.initValues[0] = arrayValue[0];
        this.maxValue = this.initValues[1] = arrayValue[1];
    };
    /**
     * @return {?}
     */
    NpnSliderComponent.prototype.setHandlerPosition = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ runningTotal = 0;
        // Updating selected values : current values
        this.updateCurrentValue([
            this.initValues[0] + this.sliderModel[0],
            this.initValues[1] - this.sliderModel[2]
        ]);
        /*Setting handler position */
        for (var /** @type {?} */ i = 0, /** @type {?} */ len = this.sliderModel.length - 1; i < len; i++) {
            runningTotal += this.sliderModel[i];
            this.handlerX[i] = (runningTotal / this.totalDiff) * 100;
        }
    };
    /**
     * @param {?} index
     * @param {?} value
     * @return {?}
     */
    NpnSliderComponent.prototype.setModelValue = /**
     * @param {?} index
     * @param {?} value
     * @return {?}
     */
    function (index, value) {
        if (this.step > 1) {
            value = Math.round(value / this.step) * this.step;
        }
        this.sliderModel[index] = value;
    };
    /*Method to disable handler movement*/
    /*Execute on events:
    * on-mouseup
    * on-panend
    */
    /**
     * @return {?}
     */
    NpnSliderComponent.prototype.setHandlerActiveOff = /**
     * @return {?}
     */
    function () {
        this.isMouseEventStart = false;
        this.isTouchEventStart = false;
        this.isHandlerActive = false;
    };
    /**
     * @param {?} event
     * @param {?} handlerIndex
     * @return {?}
     */
    NpnSliderComponent.prototype.setHandlerActive = /**
     * @param {?} event
     * @param {?} handlerIndex
     * @return {?}
     */
    function (event, handlerIndex) {
        event.preventDefault();
        if (!this.isDisabled) {
            if (!this.isNullOrEmpty(event.clientX)) {
                this.startClientX = event.clientX;
                this.isMouseEventStart = true;
                this.isTouchEventStart = false;
            }
            else if (!this.isNullOrEmpty(event.deltaX)) {
                this.startClientX = event.deltaX;
                this.isTouchEventStart = true;
                this.isMouseEventStart = false;
            }
            if (this.isMouseEventStart || this.isTouchEventStart) {
                this.currentHandlerIndex = handlerIndex;
                this.startPleft = this.sliderModel[handlerIndex];
                this.startPRight = this.sliderModel[handlerIndex + 1];
                this.isHandlerActive = true;
            }
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    NpnSliderComponent.prototype.handlerSliding = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if ((this.isMouseEventStart && event.clientX) || (this.isTouchEventStart && event.deltaX)) {
            var /** @type {?} */ movedX = Math.round(((event.clientX || event.deltaX) - this.startClientX) / this.sliderWidth * this.totalDiff);
            var /** @type {?} */ nextPLeft = this.startPleft + movedX;
            var /** @type {?} */ nextPRight = this.startPRight - movedX;
            if (nextPLeft >= 0 && nextPRight >= 0) {
                this.setModelValue(this.currentHandlerIndex, nextPLeft);
                this.setModelValue(this.currentHandlerIndex + 1, nextPRight);
                this.setHandlerPosition();
            }
        }
    };
    NpnSliderComponent.decorators = [
        { type: Component, args: [{
                    selector: 'npn-slider',
                    template: "<!--npn-slider template-->\n<div class=\"slider\" [class.disabled]=\"isDisabled\">\n  <div class=\"bar\" (mousemove)=\"handlerSliding($event)\" (panmove)=\"handlerSliding($event)\">\n    <span class=\"left-handle\" [ngClass]=\"{'active': isHandlerActive && currentHandlerIndex === handlerIndex.left,\n                      'last-active': currentHandlerIndex === handlerIndex.left\n                    }\"\n      [style.left.%]=\"handlerX[handlerIndex.left]\" (mousedown)=\"setHandlerActive($event, handlerIndex.left)\" (panstart)=\"setHandlerActive($event, handlerIndex.left)\">\n      <span *ngIf=\"!hideTooltip\" class=\"handle-tooltip\">{{currentValues[handlerIndex.left]}}</span>\n    </span>\n    <div class=\"filler\">\n      <div class=\"step-indicators\">\n        <span *ngFor=\"let stepPos of stepIndicatorPositions\" [style.left.px]=\"stepPos\"></span>\n      </div>\n      <span *ngIf=\"multiRange\" [style.left.%]=\"handlerX[0]\" [style.width.%]=\"handlerX[handlerIndex.right] - handlerX[handlerIndex.left]\"></span>\n      <span *ngIf=\"!multiRange\" [style.left.%]=\"0\" [style.width.%]=\"handlerX[0]\"></span>\n    </div>\n    <span *ngIf=\"multiRange\" class=\"right-handle\" [ngClass]=\"{'active': isHandlerActive && currentHandlerIndex === handlerIndex.right,\n                      'last-active': currentHandlerIndex === handlerIndex.right\n                    }\"\n      [style.left.%]=\"handlerX[handlerIndex.right]\" (mousedown)=\"setHandlerActive($event, handlerIndex.right)\"\n      (panstart)=\"setHandlerActive($event, handlerIndex.right)\">\n      <span *ngIf=\"!hideTooltip\" class=\"handle-tooltip\">{{currentValues[handlerIndex.right]}}</span>\n    </span>\n  </div>\n  <div class=\"values\" *ngIf=\"!hideValues\">\n    <span>{{initValues[handlerIndex.left]}}</span>\n    <span>{{initValues[handlerIndex.right]}}</span>\n  </div>\n</div>\n",
                    styles: [".slider,.slider *{box-sizing:border-box}.slider{display:block;width:100%;height:30px;padding:4px 10px;cursor:default;font-size:12px}.slider .bar{width:100%;background:#e8e8e8;height:10px;position:relative;border-radius:5px;box-shadow:inset 1px 1px 5px #bababa}.slider .bar>span.left-handle,.slider .bar>span.right-handle{display:inline-block;width:22px;height:22px;background:#bedcb2;border:7px solid #71b357;border-radius:50%;position:absolute;top:-7px;margin-left:-10px;z-index:1;cursor:pointer;transition:left .2s ease}.slider .bar>span.left-handle.last-active,.slider .bar>span.right-handle.last-active{z-index:2}.slider .bar>span.left-handle .handle-tooltip,.slider .bar>span.right-handle .handle-tooltip{display:block;position:absolute;top:-34px;left:-14px;border:1px solid #8fc37a;border-radius:4px;padding:1px 4px;min-width:20px;text-align:center;background:#d9ebd2;color:#71b357;font-weight:700;transition:opacity .2s ease;opacity:0}.slider .bar>span.left-handle .handle-tooltip:before,.slider .bar>span.right-handle .handle-tooltip:before{content:\"\";border:5px solid transparent;border-top-color:#8fc37a;position:absolute;top:104%;left:33%}.slider .bar>span.left-handle .handle-tooltip:after,.slider .bar>span.right-handle .handle-tooltip:after{content:\"\";border:5px solid transparent;border-top-color:#d9ebd2;position:absolute;top:100%;left:33%}.slider .bar>span.left-handle.active>.handle-tooltip,.slider .bar>span.left-handle:hover>.handle-tooltip,.slider .bar>span.right-handle.active>.handle-tooltip,.slider .bar>span.right-handle:hover>.handle-tooltip{opacity:1}.slider .bar div.filler{display:block;width:100%;height:100%;position:relative;overflow:hidden;border-radius:5px;border:1px solid #bedcb2}.slider .bar div.filler>span{display:inline-block;height:100%;position:absolute;top:0;background:#bedcb2;transition:all .2s ease}.slider .bar div.filler>div.step-indicators{width:100%;height:100%;position:relative}.slider .bar div.filler>div.step-indicators>span{width:1px;display:inline-block;height:10px;background:#71b357;position:absolute;left:0}.slider .values{display:block;font-weight:700;margin-top:4px;width:102%;margin-left:-1%;color:#908f90}.slider .values span:first-child{float:left}.slider .values span:last-child{float:right}.slider.disabled{opacity:.4}.slider.disabled .bar{box-shadow:none!important}.slider.disabled .bar>span.left-handle,.slider.disabled .bar>span.right-handle{cursor:not-allowed}.slider.disabled .bar>span.left-handle .handle-tooltip,.slider.disabled .bar>span.right-handle .handle-tooltip{display:none}"]
                },] },
    ];
    /** @nocollapse */
    NpnSliderComponent.ctorParameters = function () { return [
        { type: ElementRef }
    ]; };
    NpnSliderComponent.propDecorators = {
        setMinValues: [{ type: Input, args: ['min',] }],
        setMaxValues: [{ type: Input, args: ['max',] }],
        setMinSelectedValues: [{ type: Input, args: ['minSelected',] }],
        setMaxSelectedValues: [{ type: Input, args: ['maxSelected',] }],
        stepValue: [{ type: Input, args: ['step',] }],
        showStepIndicator: [{ type: Input }],
        multiRange: [{ type: Input }],
        setHideTooltip: [{ type: Input, args: ['hide-tooltip',] }],
        setHideValues: [{ type: Input, args: ['hide-values',] }],
        setDisabled: [{ type: Input, args: ['disabled',] }],
        onChange: [{ type: Output }],
        setHandlerActiveOff: [{ type: HostListener, args: ['document:mouseup',] }, { type: HostListener, args: ['document:panend',] }]
    };
    return NpnSliderComponent;
}(Utilities));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NpnSliderModule = /** @class */ (function () {
    function NpnSliderModule() {
    }
    NpnSliderModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        CommonModule
                    ],
                    declarations: [NpnSliderComponent],
                    exports: [NpnSliderComponent]
                },] },
    ];
    return NpnSliderModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { NpnSliderComponent, NpnSliderModule, Utilities as ɵa };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibnBuLXNsaWRlci5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vbnBuLXNsaWRlci9saWIvdXRpbGl0aWVzLnRzIiwibmc6Ly9ucG4tc2xpZGVyL2xpYi9ucG4tc2xpZGVyLmNvbXBvbmVudC50cyIsIm5nOi8vbnBuLXNsaWRlci9saWIvbnBuLXNsaWRlci5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG4vKlV0aWxpdGllcyAqL1xyXG5leHBvcnQgY2xhc3MgVXRpbGl0aWVzIHtcclxuXHJcbiAgcHVibGljIGlzTnVtYmVyQXJyYXkoYXJyOiBudW1iZXJbXSk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIChhcnIgJiYgYXJyLmxlbmd0aCAmJiBhcnIuZmlsdGVyKCh2YWx1ZSkgPT4gIWlzTmFOKHZhbHVlKSkubGVuZ3RoID09PSBhcnIubGVuZ3RoKSA/IHRydWUgOiBmYWxzZTtcclxuICB9XHJcbiAgcHVibGljIGlzTnVsbE9yRW1wdHkob2JqOiBhbnkpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBvYmogPT09IHVuZGVmaW5lZCB8fCBvYmogPT09IG51bGwgfHwgb2JqID09PSAnJztcclxuICB9XHJcbiAgcHVibGljIHRvQm9vbGVhbihvYmo6IGFueSwgLi4uYWxsb3dlZFZhbHVlcyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIChvYmogPT09ICcnIHx8IG9iaiA9PT0gJ3RydWUnIHx8IGFsbG93ZWRWYWx1ZXMuaW5kZXhPZihvYmopICE9PSAtMSkgPyB0cnVlIDogZmFsc2U7XHJcbiAgfVxyXG4gIHB1YmxpYyBmaW5kTmV4dFZhbGlkU3RlcFZhbHVlKG46IG51bWJlciwgc3RlcDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGRpdmlzb3JzU2V0MTogbnVtYmVyW10gPSBbXTtcclxuICAgIGNvbnN0IGRpdmlzb3JzU2V0MjogbnVtYmVyW10gPSBbXTtcclxuICAgIGNvbnN0IHNxcnROdW0gPSBNYXRoLnNxcnQobik7XHJcbiAgICBsZXQgbmV3U3RlcCA9IC0xO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcXJ0TnVtOyBpKyspIHtcclxuICAgICAgaWYgKG4gJSBpID09PSAwKSB7XHJcbiAgICAgICAgaWYgKChuIC8gaSkgPT09IGkpIHtcclxuICAgICAgICAgIGRpdmlzb3JzU2V0MS5wdXNoKGkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkaXZpc29yc1NldDEucHVzaChpKTtcclxuICAgICAgICAgIGRpdmlzb3JzU2V0Mi5wdXNoKG4gLyBpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFBpY2tpbmcgbmV3U3RlcCBieSBjaGVja2luZyBsYXJnZSBzZXQgb2YgZGl2aXNvcnMgZmlyc3RcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGl2aXNvcnNTZXQyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChzdGVwID4gZGl2aXNvcnNTZXQyW2ldKSB7XHJcbiAgICAgICAgbmV3U3RlcCA9IGRpdmlzb3JzU2V0MltpXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG5ld1N0ZXAgPT09IC0xKSB7IC8vIGNoZWNraW5nIHNldCBvZiBzbWFsbCBkaXZpc29ycyBpZiBuZXdTdGVwIGRpZG4ndCBmaW5kIG91dCB0aWxsLlxyXG4gICAgICBmb3IgKGxldCBpID0gZGl2aXNvcnNTZXQxLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgaWYgKHN0ZXAgPiBkaXZpc29yc1NldDFbaV0pIHtcclxuICAgICAgICAgIG5ld1N0ZXAgPSBkaXZpc29yc1NldDFbaV07XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAobmV3U3RlcCA9PT0gLTEpID8gMSA6IG5ld1N0ZXA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsXHJcbiAgRWxlbWVudFJlZiwgT25Jbml0LCBIb3N0TGlzdGVuZXIsIFNpbXBsZUNoYW5nZXMsIE9uQ2hhbmdlc1xyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBVdGlsaXRpZXMgfSBmcm9tICcuL3V0aWxpdGllcyc7XHJcbmltcG9ydCB7IFNsaWRlckhhbmRsZXJFbnVtIH0gZnJvbSAnLi9zbGlkZXItaGFuZGxlci5lbnVtJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnbnBuLXNsaWRlcicsXHJcbiAgdGVtcGxhdGU6IGA8IS0tbnBuLXNsaWRlciB0ZW1wbGF0ZS0tPlxyXG48ZGl2IGNsYXNzPVwic2xpZGVyXCIgW2NsYXNzLmRpc2FibGVkXT1cImlzRGlzYWJsZWRcIj5cclxuICA8ZGl2IGNsYXNzPVwiYmFyXCIgKG1vdXNlbW92ZSk9XCJoYW5kbGVyU2xpZGluZygkZXZlbnQpXCIgKHBhbm1vdmUpPVwiaGFuZGxlclNsaWRpbmcoJGV2ZW50KVwiPlxyXG4gICAgPHNwYW4gY2xhc3M9XCJsZWZ0LWhhbmRsZVwiIFtuZ0NsYXNzXT1cInsnYWN0aXZlJzogaXNIYW5kbGVyQWN0aXZlICYmIGN1cnJlbnRIYW5kbGVySW5kZXggPT09IGhhbmRsZXJJbmRleC5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgJ2xhc3QtYWN0aXZlJzogY3VycmVudEhhbmRsZXJJbmRleCA9PT0gaGFuZGxlckluZGV4LmxlZnRcclxuICAgICAgICAgICAgICAgICAgICB9XCJcclxuICAgICAgW3N0eWxlLmxlZnQuJV09XCJoYW5kbGVyWFtoYW5kbGVySW5kZXgubGVmdF1cIiAobW91c2Vkb3duKT1cInNldEhhbmRsZXJBY3RpdmUoJGV2ZW50LCBoYW5kbGVySW5kZXgubGVmdClcIiAocGFuc3RhcnQpPVwic2V0SGFuZGxlckFjdGl2ZSgkZXZlbnQsIGhhbmRsZXJJbmRleC5sZWZ0KVwiPlxyXG4gICAgICA8c3BhbiAqbmdJZj1cIiFoaWRlVG9vbHRpcFwiIGNsYXNzPVwiaGFuZGxlLXRvb2x0aXBcIj57e2N1cnJlbnRWYWx1ZXNbaGFuZGxlckluZGV4LmxlZnRdfX08L3NwYW4+XHJcbiAgICA8L3NwYW4+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZmlsbGVyXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJzdGVwLWluZGljYXRvcnNcIj5cclxuICAgICAgICA8c3BhbiAqbmdGb3I9XCJsZXQgc3RlcFBvcyBvZiBzdGVwSW5kaWNhdG9yUG9zaXRpb25zXCIgW3N0eWxlLmxlZnQucHhdPVwic3RlcFBvc1wiPjwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxzcGFuICpuZ0lmPVwibXVsdGlSYW5nZVwiIFtzdHlsZS5sZWZ0LiVdPVwiaGFuZGxlclhbMF1cIiBbc3R5bGUud2lkdGguJV09XCJoYW5kbGVyWFtoYW5kbGVySW5kZXgucmlnaHRdIC0gaGFuZGxlclhbaGFuZGxlckluZGV4LmxlZnRdXCI+PC9zcGFuPlxyXG4gICAgICA8c3BhbiAqbmdJZj1cIiFtdWx0aVJhbmdlXCIgW3N0eWxlLmxlZnQuJV09XCIwXCIgW3N0eWxlLndpZHRoLiVdPVwiaGFuZGxlclhbMF1cIj48L3NwYW4+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxzcGFuICpuZ0lmPVwibXVsdGlSYW5nZVwiIGNsYXNzPVwicmlnaHQtaGFuZGxlXCIgW25nQ2xhc3NdPVwieydhY3RpdmUnOiBpc0hhbmRsZXJBY3RpdmUgJiYgY3VycmVudEhhbmRsZXJJbmRleCA9PT0gaGFuZGxlckluZGV4LnJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgJ2xhc3QtYWN0aXZlJzogY3VycmVudEhhbmRsZXJJbmRleCA9PT0gaGFuZGxlckluZGV4LnJpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgfVwiXHJcbiAgICAgIFtzdHlsZS5sZWZ0LiVdPVwiaGFuZGxlclhbaGFuZGxlckluZGV4LnJpZ2h0XVwiIChtb3VzZWRvd24pPVwic2V0SGFuZGxlckFjdGl2ZSgkZXZlbnQsIGhhbmRsZXJJbmRleC5yaWdodClcIlxyXG4gICAgICAocGFuc3RhcnQpPVwic2V0SGFuZGxlckFjdGl2ZSgkZXZlbnQsIGhhbmRsZXJJbmRleC5yaWdodClcIj5cclxuICAgICAgPHNwYW4gKm5nSWY9XCIhaGlkZVRvb2x0aXBcIiBjbGFzcz1cImhhbmRsZS10b29sdGlwXCI+e3tjdXJyZW50VmFsdWVzW2hhbmRsZXJJbmRleC5yaWdodF19fTwvc3Bhbj5cclxuICAgIDwvc3Bhbj5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwidmFsdWVzXCIgKm5nSWY9XCIhaGlkZVZhbHVlc1wiPlxyXG4gICAgPHNwYW4+e3tpbml0VmFsdWVzW2hhbmRsZXJJbmRleC5sZWZ0XX19PC9zcGFuPlxyXG4gICAgPHNwYW4+e3tpbml0VmFsdWVzW2hhbmRsZXJJbmRleC5yaWdodF19fTwvc3Bhbj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbmAsXHJcbiAgc3R5bGVzOiBbYC5zbGlkZXIsLnNsaWRlciAqe2JveC1zaXppbmc6Ym9yZGVyLWJveH0uc2xpZGVye2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTtoZWlnaHQ6MzBweDtwYWRkaW5nOjRweCAxMHB4O2N1cnNvcjpkZWZhdWx0O2ZvbnQtc2l6ZToxMnB4fS5zbGlkZXIgLmJhcnt3aWR0aDoxMDAlO2JhY2tncm91bmQ6I2U4ZThlODtoZWlnaHQ6MTBweDtwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXItcmFkaXVzOjVweDtib3gtc2hhZG93Omluc2V0IDFweCAxcHggNXB4ICNiYWJhYmF9LnNsaWRlciAuYmFyPnNwYW4ubGVmdC1oYW5kbGUsLnNsaWRlciAuYmFyPnNwYW4ucmlnaHQtaGFuZGxle2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjIycHg7aGVpZ2h0OjIycHg7YmFja2dyb3VuZDojYmVkY2IyO2JvcmRlcjo3cHggc29saWQgIzcxYjM1Nztib3JkZXItcmFkaXVzOjUwJTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTdweDttYXJnaW4tbGVmdDotMTBweDt6LWluZGV4OjE7Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbjpsZWZ0IC4ycyBlYXNlfS5zbGlkZXIgLmJhcj5zcGFuLmxlZnQtaGFuZGxlLmxhc3QtYWN0aXZlLC5zbGlkZXIgLmJhcj5zcGFuLnJpZ2h0LWhhbmRsZS5sYXN0LWFjdGl2ZXt6LWluZGV4OjJ9LnNsaWRlciAuYmFyPnNwYW4ubGVmdC1oYW5kbGUgLmhhbmRsZS10b29sdGlwLC5zbGlkZXIgLmJhcj5zcGFuLnJpZ2h0LWhhbmRsZSAuaGFuZGxlLXRvb2x0aXB7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTM0cHg7bGVmdDotMTRweDtib3JkZXI6MXB4IHNvbGlkICM4ZmMzN2E7Ym9yZGVyLXJhZGl1czo0cHg7cGFkZGluZzoxcHggNHB4O21pbi13aWR0aDoyMHB4O3RleHQtYWxpZ246Y2VudGVyO2JhY2tncm91bmQ6I2Q5ZWJkMjtjb2xvcjojNzFiMzU3O2ZvbnQtd2VpZ2h0OjcwMDt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzIGVhc2U7b3BhY2l0eTowfS5zbGlkZXIgLmJhcj5zcGFuLmxlZnQtaGFuZGxlIC5oYW5kbGUtdG9vbHRpcDpiZWZvcmUsLnNsaWRlciAuYmFyPnNwYW4ucmlnaHQtaGFuZGxlIC5oYW5kbGUtdG9vbHRpcDpiZWZvcmV7Y29udGVudDpcIlwiO2JvcmRlcjo1cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcC1jb2xvcjojOGZjMzdhO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMDQlO2xlZnQ6MzMlfS5zbGlkZXIgLmJhcj5zcGFuLmxlZnQtaGFuZGxlIC5oYW5kbGUtdG9vbHRpcDphZnRlciwuc2xpZGVyIC5iYXI+c3Bhbi5yaWdodC1oYW5kbGUgLmhhbmRsZS10b29sdGlwOmFmdGVye2NvbnRlbnQ6XCJcIjtib3JkZXI6NXB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3AtY29sb3I6I2Q5ZWJkMjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTAwJTtsZWZ0OjMzJX0uc2xpZGVyIC5iYXI+c3Bhbi5sZWZ0LWhhbmRsZS5hY3RpdmU+LmhhbmRsZS10b29sdGlwLC5zbGlkZXIgLmJhcj5zcGFuLmxlZnQtaGFuZGxlOmhvdmVyPi5oYW5kbGUtdG9vbHRpcCwuc2xpZGVyIC5iYXI+c3Bhbi5yaWdodC1oYW5kbGUuYWN0aXZlPi5oYW5kbGUtdG9vbHRpcCwuc2xpZGVyIC5iYXI+c3Bhbi5yaWdodC1oYW5kbGU6aG92ZXI+LmhhbmRsZS10b29sdGlwe29wYWNpdHk6MX0uc2xpZGVyIC5iYXIgZGl2LmZpbGxlcntkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVuO2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQgI2JlZGNiMn0uc2xpZGVyIC5iYXIgZGl2LmZpbGxlcj5zcGFue2Rpc3BsYXk6aW5saW5lLWJsb2NrO2hlaWdodDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2JhY2tncm91bmQ6I2JlZGNiMjt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZX0uc2xpZGVyIC5iYXIgZGl2LmZpbGxlcj5kaXYuc3RlcC1pbmRpY2F0b3Jze3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9zaXRpb246cmVsYXRpdmV9LnNsaWRlciAuYmFyIGRpdi5maWxsZXI+ZGl2LnN0ZXAtaW5kaWNhdG9ycz5zcGFue3dpZHRoOjFweDtkaXNwbGF5OmlubGluZS1ibG9jaztoZWlnaHQ6MTBweDtiYWNrZ3JvdW5kOiM3MWIzNTc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowfS5zbGlkZXIgLnZhbHVlc3tkaXNwbGF5OmJsb2NrO2ZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tdG9wOjRweDt3aWR0aDoxMDIlO21hcmdpbi1sZWZ0Oi0xJTtjb2xvcjojOTA4ZjkwfS5zbGlkZXIgLnZhbHVlcyBzcGFuOmZpcnN0LWNoaWxke2Zsb2F0OmxlZnR9LnNsaWRlciAudmFsdWVzIHNwYW46bGFzdC1jaGlsZHtmbG9hdDpyaWdodH0uc2xpZGVyLmRpc2FibGVke29wYWNpdHk6LjR9LnNsaWRlci5kaXNhYmxlZCAuYmFye2JveC1zaGFkb3c6bm9uZSFpbXBvcnRhbnR9LnNsaWRlci5kaXNhYmxlZCAuYmFyPnNwYW4ubGVmdC1oYW5kbGUsLnNsaWRlci5kaXNhYmxlZCAuYmFyPnNwYW4ucmlnaHQtaGFuZGxle2N1cnNvcjpub3QtYWxsb3dlZH0uc2xpZGVyLmRpc2FibGVkIC5iYXI+c3Bhbi5sZWZ0LWhhbmRsZSAuaGFuZGxlLXRvb2x0aXAsLnNsaWRlci5kaXNhYmxlZCAuYmFyPnNwYW4ucmlnaHQtaGFuZGxlIC5oYW5kbGUtdG9vbHRpcHtkaXNwbGF5Om5vbmV9YF1cclxufSlcclxuZXhwb3J0IGNsYXNzIE5wblNsaWRlckNvbXBvbmVudCBleHRlbmRzIFV0aWxpdGllcyBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzIHtcclxuICBwcml2YXRlIHNsaWRlck1vZGVsID0gWzAsIDAsIDBdO1xyXG4gIHByaXZhdGUgc3RlcCA9IDE7XHJcbiAgcHJpdmF0ZSBzbGlkZXJXaWR0aCA9IDA7XHJcbiAgcHJpdmF0ZSB0b3RhbERpZmYgPSAwO1xyXG4gIHByaXZhdGUgc3RhcnRDbGllbnRYID0gMDtcclxuICBwcml2YXRlIHN0YXJ0UGxlZnQgPSAwO1xyXG4gIHByaXZhdGUgc3RhcnRQUmlnaHQgPSAwO1xyXG4gIHByaXZhdGUgbWluVmFsdWU6IG51bWJlcjtcclxuICBwcml2YXRlIG1heFZhbHVlOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBtaW5TZWxlY3RlZDogbnVtYmVyO1xyXG4gIHByaXZhdGUgbWF4U2VsZWN0ZWQ6IG51bWJlcjtcclxuICBwcml2YXRlIHNsaWRlckluaXRpYXRlZCA9IGZhbHNlO1xyXG5cclxuICBwdWJsaWMgaW5pdFZhbHVlczogbnVtYmVyW10gPSBbXTtcclxuICBwdWJsaWMgY3VycmVudFZhbHVlczogbnVtYmVyW10gPSBbMCwgMF07XHJcbiAgcHVibGljIGhhbmRsZXJYOiBudW1iZXJbXSA9IFswLCAwXTtcclxuICBwdWJsaWMgaXNIYW5kbGVyQWN0aXZlID0gZmFsc2U7XHJcbiAgcHVibGljIGlzVG91Y2hFdmVudFN0YXJ0ID0gZmFsc2U7XHJcbiAgcHVibGljIGlzTW91c2VFdmVudFN0YXJ0ID0gZmFsc2U7XHJcbiAgcHVibGljIGN1cnJlbnRIYW5kbGVySW5kZXggPSAwO1xyXG4gIHB1YmxpYyBzdGVwSW5kaWNhdG9yUG9zaXRpb25zID0gW107XHJcbiAgcHVibGljIGlzRGlzYWJsZWQgPSBmYWxzZTtcclxuICBwdWJsaWMgaGlkZVRvb2x0aXAgPSBmYWxzZTtcclxuICBwdWJsaWMgaGlkZVZhbHVlcyA9IGZhbHNlO1xyXG5cclxuICBwdWJsaWMgaGFuZGxlckluZGV4ID0gU2xpZGVySGFuZGxlckVudW07XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWw6IEVsZW1lbnRSZWYpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoJ21pbicpXHJcbiAgc2V0IHNldE1pblZhbHVlcyh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xyXG4gICAgICB0aGlzLm1pblZhbHVlID0gTnVtYmVyKHZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBJbnB1dCgnbWF4JylcclxuICBzZXQgc2V0TWF4VmFsdWVzKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIGlmICghaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgIHRoaXMubWF4VmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQElucHV0KCdtaW5TZWxlY3RlZCcpXHJcbiAgc2V0IHNldE1pblNlbGVjdGVkVmFsdWVzKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIGlmICghaXNOYU4odmFsdWUpICYmIHRoaXMubWluU2VsZWN0ZWQgIT09IE51bWJlcih2YWx1ZSkpIHtcclxuICAgICAgdGhpcy5taW5TZWxlY3RlZCA9IE51bWJlcih2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBASW5wdXQoJ21heFNlbGVjdGVkJylcclxuICBzZXQgc2V0TWF4U2VsZWN0ZWRWYWx1ZXModmFsdWU6IG51bWJlcikge1xyXG4gICAgaWYgKCFpc05hTih2YWx1ZSkgJiYgdGhpcy5tYXhTZWxlY3RlZCAhPT0gTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICB0aGlzLm1heFNlbGVjdGVkID0gTnVtYmVyKHZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcbiAgQElucHV0KCdzdGVwJylcclxuICBzZXQgc3RlcFZhbHVlKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIGlmICghaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgIHRoaXMuc3RlcCA9IE51bWJlcih2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKSBzaG93U3RlcEluZGljYXRvciA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIG11bHRpUmFuZ2UgPSB0cnVlO1xyXG4gIEBJbnB1dCgnaGlkZS10b29sdGlwJylcclxuICBzZXQgc2V0SGlkZVRvb2x0aXAodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuaGlkZVRvb2x0aXAgPSB0aGlzLnRvQm9vbGVhbih2YWx1ZSk7XHJcbiAgfVxyXG4gIEBJbnB1dCgnaGlkZS12YWx1ZXMnKVxyXG4gIHNldCBzZXRIaWRlVmFsdWVzKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmhpZGVWYWx1ZXMgPSB0aGlzLnRvQm9vbGVhbih2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoJ2Rpc2FibGVkJylcclxuICBzZXQgc2V0RGlzYWJsZWQodmFsdWU6IHN0cmluZykge1xyXG4gICAgdGhpcy5pc0Rpc2FibGVkID0gdGhpcy50b0Jvb2xlYW4odmFsdWUsICdkaXNhYmxlZCcpO1xyXG4gIH1cclxuXHJcbiAgQE91dHB1dCgpIG9uQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxudW1iZXJbXT4oKTtcclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmluaXRpYWxpemVTbGlkZXIoKTtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgIGlmICh0aGlzLnNsaWRlckluaXRpYXRlZCkge1xyXG4gICAgICBpZiAoIXRoaXMuaXNOdWxsT3JFbXB0eShjaGFuZ2VzLnNldE1pblNlbGVjdGVkVmFsdWVzKVxyXG4gICAgICAgICYmIGNoYW5nZXMuc2V0TWluU2VsZWN0ZWRWYWx1ZXMucHJldmlvdXNWYWx1ZSA9PT0gY2hhbmdlcy5zZXRNaW5TZWxlY3RlZFZhbHVlcy5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCF0aGlzLmlzTnVsbE9yRW1wdHkoY2hhbmdlcy5zZXRNYXhTZWxlY3RlZFZhbHVlcylcclxuICAgICAgICAmJiBjaGFuZ2VzLnNldE1heFNlbGVjdGVkVmFsdWVzLnByZXZpb3VzVmFsdWUgPT09IGNoYW5nZXMuc2V0TWF4U2VsZWN0ZWRWYWx1ZXMuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucmVzZXRNb2RlbCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLypNZXRob2QgdG8gaW5pdGFpbGl6ZSBlbnRpcmUgU2xpZGVyKi9cclxuICBwdWJsaWMgaW5pdGlhbGl6ZVNsaWRlcigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFRha2luZyB3aWR0aCBvZiBzbGlkZXIgYmFyIGVsZW1lbnQuXHJcbiAgICAgIHRoaXMuc2xpZGVyV2lkdGggPSB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0ub2Zmc2V0V2lkdGg7XHJcbiAgICAgIHRoaXMucmVzZXRNb2RlbCgpO1xyXG4gICAgICB0aGlzLnNsaWRlckluaXRpYXRlZCA9IHRydWU7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKk1ldGhvZCB0byBpbml0aWFsaXplIHZhcmlhYmxlcyBhbmQgbW9kZWwgdmFsdWVzICovXHJcbiAgcHJpdmF0ZSByZXNldE1vZGVsKCkge1xyXG4gICAgdGhpcy52YWxpZGF0ZVNsaWRlclZhbHVlcygpO1xyXG4gICAgLy8gU2V0dGluZyB0aGUgbW9kZWwgdmFsdWVzXHJcbiAgICB0aGlzLnNsaWRlck1vZGVsID0gW1xyXG4gICAgICB0aGlzLmN1cnJlbnRWYWx1ZXNbMF0gLSB0aGlzLmluaXRWYWx1ZXNbMF0sXHJcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlc1sxXSAtIHRoaXMuY3VycmVudFZhbHVlc1swXSxcclxuICAgICAgdGhpcy5pbml0VmFsdWVzWzFdIC0gdGhpcy5jdXJyZW50VmFsdWVzWzFdXHJcbiAgICBdO1xyXG5cclxuICAgIHRoaXMudG90YWxEaWZmID0gdGhpcy5zbGlkZXJNb2RlbC5yZWR1Y2UoKHByZXZWYWx1ZSwgY3VyVmFsdWUpID0+IHByZXZWYWx1ZSArIGN1clZhbHVlLCAwKTtcclxuXHJcbiAgICAvLyBWYWxpZGF0aW9uIGZvciBzbGlkZXIgc3RlcFxyXG4gICAgaWYgKHRoaXMudG90YWxEaWZmICUgdGhpcy5zdGVwICE9PSAwKSB7XHJcbiAgICAgIGNvbnN0IG5ld1N0ZXAgPSB0aGlzLmZpbmROZXh0VmFsaWRTdGVwVmFsdWUodGhpcy50b3RhbERpZmYsIHRoaXMuc3RlcCk7XHJcbiAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBzdGVwIHZhbHVlIFwiJyArIHRoaXMuc3RlcCArICdcIiA6IGFuZCB0b29rIFwiJyArIG5ld1N0ZXAgKyAnXCIgYXMgZGVmYXVsdCBzdGVwJyk7XHJcbiAgICAgIHRoaXMuc3RlcCA9IG5ld1N0ZXA7XHJcbiAgICB9XHJcbiAgICB0aGlzLmluaXRpYWxpemVTdGVwSW5kaWNhdG9yKCk7XHJcbiAgICB0aGlzLnNldEhhbmRsZXJQb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgLypNZXRob2QgdG8gZG8gdmFsaWRhdGlvbiBvZiBpbml0IGFuZCBzZWxldGVkIHJhbmdlIHZhbHVlcyovXHJcbiAgcHJpdmF0ZSB2YWxpZGF0ZVNsaWRlclZhbHVlcygpIHtcclxuICAgIGlmICh0aGlzLmlzTnVsbE9yRW1wdHkodGhpcy5taW5WYWx1ZSkgfHwgdGhpcy5pc051bGxPckVtcHR5KHRoaXMubWF4VmFsdWUpKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlSW5pdFZhbHVlcyhbMCwgMF0pO1xyXG4gICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShbMCwgMF0sIHRydWUpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLm1pblZhbHVlID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICB0aGlzLnVwZGF0ZUluaXRWYWx1ZXMoWzAsIDBdKTtcclxuICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWUoWzAsIDBdLCB0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaW5pdFZhbHVlcyA9IFt0aGlzLm1pblZhbHVlLCB0aGlzLm1heFZhbHVlXTtcclxuICAgICAgLypcclxuICAgICAgKiBWYWxpZGF0aW9uIGZvciBTZWxlY3RlZCByYW5nZSB2YWx1ZXNcclxuICAgICAgKi9cclxuICAgICAgdGhpcy5taW5TZWxlY3RlZCA9IHRoaXMuaXNOdWxsT3JFbXB0eSh0aGlzLm1pblNlbGVjdGVkKSA/IDAgOiB0aGlzLm1pblNlbGVjdGVkO1xyXG4gICAgICB0aGlzLm1heFNlbGVjdGVkID0gdGhpcy5pc051bGxPckVtcHR5KHRoaXMubWF4U2VsZWN0ZWQpID8gMCA6IHRoaXMubWF4U2VsZWN0ZWQ7XHJcblxyXG4gICAgICBpZiAodGhpcy5taW5TZWxlY3RlZCA8IHRoaXMubWluVmFsdWUgfHwgdGhpcy5taW5TZWxlY3RlZCA+IHRoaXMubWF4VmFsdWUpIHtcclxuICAgICAgICB0aGlzLm1pblNlbGVjdGVkID0gdGhpcy5taW5WYWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5tYXhTZWxlY3RlZCA8IHRoaXMubWluVmFsdWUgfHwgdGhpcy5tYXhTZWxlY3RlZCA+IHRoaXMubWF4VmFsdWUpIHtcclxuICAgICAgICB0aGlzLm1heFNlbGVjdGVkID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5taW5TZWxlY3RlZCA+IHRoaXMubWF4U2VsZWN0ZWQpIHtcclxuICAgICAgICB0aGlzLm1pblNlbGVjdGVkID0gdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICB0aGlzLm1heFNlbGVjdGVkID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShbdGhpcy5taW5TZWxlY3RlZCwgdGhpcy5tYXhTZWxlY3RlZF0sIHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLypNZXRob2QgdG8gYWRkIHN0ZXAgaW5pZGljYXRvciB0byBzbGlkZXIgKi9cclxuICBwcml2YXRlIGluaXRpYWxpemVTdGVwSW5kaWNhdG9yKCkge1xyXG4gICAgaWYgKHRoaXMuc2hvd1N0ZXBJbmRpY2F0b3IpIHtcclxuICAgICAgdGhpcy5zdGVwSW5kaWNhdG9yUG9zaXRpb25zLmxlbmd0aCA9IDA7XHJcbiAgICAgIGNvbnN0IG51bU9mU3RlcEluZGljYXRvcnMgPSB0aGlzLnRvdGFsRGlmZiAvIHRoaXMuc3RlcDtcclxuICAgICAgaWYgKHRoaXMuc2xpZGVyV2lkdGggLyBudW1PZlN0ZXBJbmRpY2F0b3JzID49IDEwKSB7XHJcbiAgICAgICAgY29uc3QgaW5jcmVtZW50ID0gdGhpcy5zbGlkZXJXaWR0aCAvIG51bU9mU3RlcEluZGljYXRvcnM7XHJcbiAgICAgICAgbGV0IGxlZnRQb3NpdGlvbiA9IGluY3JlbWVudDtcclxuICAgICAgICB3aGlsZSAodGhpcy5zdGVwSW5kaWNhdG9yUG9zaXRpb25zLmxlbmd0aCA8IG51bU9mU3RlcEluZGljYXRvcnMgLSAxKSB7XHJcbiAgICAgICAgICB0aGlzLnN0ZXBJbmRpY2F0b3JQb3NpdGlvbnMucHVzaCgrbGVmdFBvc2l0aW9uLnRvRml4ZWQoMikpO1xyXG4gICAgICAgICAgbGVmdFBvc2l0aW9uICs9IGluY3JlbWVudDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGBBcyAnc3RlcCcgdmFsdWUgaXMgdG9vIHNtYWxsIGNvbXBhcmVkIHRvIG1pbiAmIG1heCB2YWx1ZSBkaWZmZXJlbmNlIGFuZCBzbGlkZXIgd2lkdGgsXHJcbiAgICAgICAgICBTdGVwIEluZGljYXRvciBjYW4ndCBiZSBkaXNwbGF5ZWQhLiBQcm92aWRlIHNsaWdodCBsYXJnZSB2YWx1ZSBmb3IgJ3N0ZXAnYCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3RlcEluZGljYXRvclBvc2l0aW9ucy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLypNZXRob2QgdG8gc2V0IGN1cnJlbnQgc2VsZWN0ZWQgdmFsdWVzICovXHJcbiAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50VmFsdWUoYXJyYXlWYWx1ZTogbnVtYmVyW10sIHByaXZhdGVDaGFuZ2U6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgdGhpcy5taW5TZWxlY3RlZCA9IHRoaXMuY3VycmVudFZhbHVlc1swXSA9IGFycmF5VmFsdWVbMF07XHJcbiAgICB0aGlzLm1heFNlbGVjdGVkID0gdGhpcy5jdXJyZW50VmFsdWVzWzFdID0gYXJyYXlWYWx1ZVsxXTtcclxuICAgIGlmICghcHJpdmF0ZUNoYW5nZSkge1xyXG4gICAgICB0aGlzLm9uQ2hhbmdlLmVtaXQoKHRoaXMubXVsdGlSYW5nZSkgPyB0aGlzLmN1cnJlbnRWYWx1ZXMgOiBbdGhpcy5jdXJyZW50VmFsdWVzWzBdXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKk1ldGhvZCB0byBzZXQgY3VycmVudCBzZWxlY3RlZCB2YWx1ZXMgKi9cclxuICBwcml2YXRlIHVwZGF0ZUluaXRWYWx1ZXMoYXJyYXlWYWx1ZTogbnVtYmVyW10pIHtcclxuICAgIHRoaXMubWluVmFsdWUgPSB0aGlzLmluaXRWYWx1ZXNbMF0gPSBhcnJheVZhbHVlWzBdO1xyXG4gICAgdGhpcy5tYXhWYWx1ZSA9IHRoaXMuaW5pdFZhbHVlc1sxXSA9IGFycmF5VmFsdWVbMV07XHJcbiAgfVxyXG5cclxuICAvKk1ldGhvZCB0byBzZXQgaGFuZGxlciBwb3NpdGlvbiAqL1xyXG4gIHByaXZhdGUgc2V0SGFuZGxlclBvc2l0aW9uKCkge1xyXG4gICAgbGV0IHJ1bm5pbmdUb3RhbCA9IDA7XHJcbiAgICAvLyBVcGRhdGluZyBzZWxlY3RlZCB2YWx1ZXMgOiBjdXJyZW50IHZhbHVlc1xyXG4gICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWUoW1xyXG4gICAgICB0aGlzLmluaXRWYWx1ZXNbMF0gKyB0aGlzLnNsaWRlck1vZGVsWzBdLFxyXG4gICAgICB0aGlzLmluaXRWYWx1ZXNbMV0gLSB0aGlzLnNsaWRlck1vZGVsWzJdXHJcbiAgICBdKTtcclxuICAgIC8qU2V0dGluZyBoYW5kbGVyIHBvc2l0aW9uICovXHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5zbGlkZXJNb2RlbC5sZW5ndGggLSAxOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgcnVubmluZ1RvdGFsICs9IHRoaXMuc2xpZGVyTW9kZWxbaV07XHJcbiAgICAgIHRoaXMuaGFuZGxlclhbaV0gPSAocnVubmluZ1RvdGFsIC8gdGhpcy50b3RhbERpZmYpICogMTAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLypNZXRob2QgdG8gc2V0IG1vZGVsIGFycmF5IHZhbHVlcyAtIHdpbGwgdHJ5IHRvIHJlZmluZSB0aGUgdmFsdWVzIHVzaW5nIHN0ZXAgKi9cclxuICBwcml2YXRlIHNldE1vZGVsVmFsdWUoaW5kZXg6IG51bWJlciwgdmFsdWU6IG51bWJlcikge1xyXG4gICAgaWYgKHRoaXMuc3RlcCA+IDEpIHtcclxuICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlIC8gdGhpcy5zdGVwKSAqIHRoaXMuc3RlcDtcclxuICAgIH1cclxuICAgIHRoaXMuc2xpZGVyTW9kZWxbaW5kZXhdID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICAvKk1ldGhvZCB0byBkaXNhYmxlIGhhbmRsZXIgbW92ZW1lbnQqL1xyXG4gIC8qRXhlY3V0ZSBvbiBldmVudHM6XHJcbiAgKiBvbi1tb3VzZXVwXHJcbiAgKiBvbi1wYW5lbmRcclxuICAqL1xyXG4gIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50Om1vdXNldXAnKVxyXG4gIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50OnBhbmVuZCcpXHJcbiAgc2V0SGFuZGxlckFjdGl2ZU9mZigpIHtcclxuICAgIHRoaXMuaXNNb3VzZUV2ZW50U3RhcnQgPSBmYWxzZTtcclxuICAgIHRoaXMuaXNUb3VjaEV2ZW50U3RhcnQgPSBmYWxzZTtcclxuICAgIHRoaXMuaXNIYW5kbGVyQWN0aXZlID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKk1ldGhvZCB0byBkZXRlY3Qgc3RhcnQgZHJhZ2luZyBoYW5kbGVyKi9cclxuICAvKkV4ZWN1dGUgb24gZXZlbnRzOlxyXG4gICogb24tbW91c2Vkb3duXHJcbiAgKiBvbi1wYW5zdGFydFxyXG4gICovXHJcbiAgcHVibGljIHNldEhhbmRsZXJBY3RpdmUoZXZlbnQ6IGFueSwgaGFuZGxlckluZGV4OiBudW1iZXIpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoIXRoaXMuaXNEaXNhYmxlZCkge1xyXG5cclxuICAgICAgaWYgKCF0aGlzLmlzTnVsbE9yRW1wdHkoZXZlbnQuY2xpZW50WCkpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0Q2xpZW50WCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgICAgdGhpcy5pc01vdXNlRXZlbnRTdGFydCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc1RvdWNoRXZlbnRTdGFydCA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzTnVsbE9yRW1wdHkoZXZlbnQuZGVsdGFYKSkge1xyXG4gICAgICAgIHRoaXMuc3RhcnRDbGllbnRYID0gZXZlbnQuZGVsdGFYO1xyXG4gICAgICAgIHRoaXMuaXNUb3VjaEV2ZW50U3RhcnQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaXNNb3VzZUV2ZW50U3RhcnQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5pc01vdXNlRXZlbnRTdGFydCB8fCB0aGlzLmlzVG91Y2hFdmVudFN0YXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SGFuZGxlckluZGV4ID0gaGFuZGxlckluZGV4O1xyXG4gICAgICAgIHRoaXMuc3RhcnRQbGVmdCA9IHRoaXMuc2xpZGVyTW9kZWxbaGFuZGxlckluZGV4XTtcclxuICAgICAgICB0aGlzLnN0YXJ0UFJpZ2h0ID0gdGhpcy5zbGlkZXJNb2RlbFtoYW5kbGVySW5kZXggKyAxXTtcclxuICAgICAgICB0aGlzLmlzSGFuZGxlckFjdGl2ZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvKk1ldGhvZCB0byBjYWxjdWxhdGUgc2lsZGVyIGhhbmRsZXIgbW92ZW1lbnQgKi9cclxuICAvKkV4ZWN1dGUgb24gZXZlbnRzOlxyXG4gICogb24tbW91c2Vtb3ZlXHJcbiAgKiBvbi1wYW5tb3ZlXHJcbiAgKi9cclxuICBwdWJsaWMgaGFuZGxlclNsaWRpbmcoZXZlbnQ6IGFueSkge1xyXG4gICAgaWYgKCh0aGlzLmlzTW91c2VFdmVudFN0YXJ0ICYmIGV2ZW50LmNsaWVudFgpIHx8ICh0aGlzLmlzVG91Y2hFdmVudFN0YXJ0ICYmIGV2ZW50LmRlbHRhWCkpIHtcclxuICAgICAgY29uc3QgbW92ZWRYID0gTWF0aC5yb3VuZCgoKGV2ZW50LmNsaWVudFggfHwgZXZlbnQuZGVsdGFYKSAtIHRoaXMuc3RhcnRDbGllbnRYKSAvIHRoaXMuc2xpZGVyV2lkdGggKiB0aGlzLnRvdGFsRGlmZik7XHJcbiAgICAgIGNvbnN0IG5leHRQTGVmdCA9IHRoaXMuc3RhcnRQbGVmdCArIG1vdmVkWDtcclxuICAgICAgY29uc3QgbmV4dFBSaWdodCA9IHRoaXMuc3RhcnRQUmlnaHQgLSBtb3ZlZFg7XHJcbiAgICAgIGlmIChuZXh0UExlZnQgPj0gMCAmJiBuZXh0UFJpZ2h0ID49IDApIHtcclxuICAgICAgICB0aGlzLnNldE1vZGVsVmFsdWUodGhpcy5jdXJyZW50SGFuZGxlckluZGV4LCBuZXh0UExlZnQpO1xyXG4gICAgICAgIHRoaXMuc2V0TW9kZWxWYWx1ZSh0aGlzLmN1cnJlbnRIYW5kbGVySW5kZXggKyAxLCBuZXh0UFJpZ2h0KTtcclxuICAgICAgICB0aGlzLnNldEhhbmRsZXJQb3NpdGlvbigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IE5wblNsaWRlckNvbXBvbmVudCB9IGZyb20gJy4vbnBuLXNsaWRlci5jb21wb25lbnQnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICBpbXBvcnRzOiBbXHJcbiAgICBDb21tb25Nb2R1bGVcclxuICBdLFxyXG4gIGRlY2xhcmF0aW9uczogW05wblNsaWRlckNvbXBvbmVudF0sXHJcbiAgZXhwb3J0czogW05wblNsaWRlckNvbXBvbmVudF1cclxufSlcclxuZXhwb3J0IGNsYXNzIE5wblNsaWRlck1vZHVsZSB7IH1cclxuIl0sIm5hbWVzIjpbInRzbGliXzEuX19leHRlbmRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdBLElBQUE7Ozs7Ozs7SUFFUyxpQ0FBYTs7OztjQUFDLEdBQWE7UUFDaEMsT0FBTyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBQyxLQUFLLElBQUssT0FBQSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBQSxDQUFDLENBQUMsTUFBTSxL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